# ğŸ•µï¸â€â™‚ï¸ ì‹¬ì¸µ ë¶„ì„ ê²°ê³¼

## 1. ì›ì¸ (Root Cause)
*   **íƒ€ì… ë¶ˆì¼ì¹˜ (Type Mismatch):** `supabase` ë°ì´í„°ë² ì´ìŠ¤ì˜ `payments` í…Œì´ë¸”ì—ì„œ `status` ì»¬ëŸ¼ì€ `string | null` (nullable)ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤ (`database.types.ts`).
*   ê·¸ëŸ¬ë‚˜ UI ì»´í¬ë„ŒíŠ¸ì¸ `PaymentList`ëŠ” `Payment` ì¸í„°í˜ì´ìŠ¤ì—ì„œ `status` ì†ì„±ì„ `string` (non-nullable)ìœ¼ë¡œ ì •ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤ (`payment-list.tsx`).
*   `actions.ts`ì˜ `getMonthlyPayments` í•¨ìˆ˜ê°€ DBì—ì„œ ê°€ì ¸ì˜¨ `status` ê°’ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜ (`status: p.status`)í•˜ê³  ìˆì–´, `null` ê°’ì´ í¬í•¨ë  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê°ì²´ ë°°ì—´ì„ `string`ë§Œì„ ê¸°ëŒ€í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ Propsì— í• ë‹¹í•˜ë ¤ë‹¤ íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

## 2. ë²”ìœ„ (Scope)
*   `app/(dashboard)/payments/actions.ts`: ë°ì´í„° í˜ì¹­ ë° ë³€í™˜ ë¡œì§ (ìˆ˜ì • í•„ìš”)
*   `app/(dashboard)/payments/page.tsx`: ì—ëŸ¬ê°€ ë°œìƒí•œ í˜¸ì¶œ ì§€ì 
*   `components/payments/payment-list.tsx`: íƒ€ì… ì •ì˜ë¥¼ í¬í•¨í•œ ì»´í¬ë„ŒíŠ¸

## 3. í•´ê²° (Plan)
*   [ ] **`app/(dashboard)/payments/actions.ts` ìˆ˜ì •:** `getMonthlyPayments` í•¨ìˆ˜ì—ì„œ ë°˜í™˜ ê°ì²´ë¥¼ ë§¤í•‘í•  ë•Œ, `status` ê°’ì´ `null`ì¼ ê²½ìš° ê¸°ë³¸ê°’(ì˜ˆ: `'unpaid'`)ì„ í• ë‹¹í•˜ë„ë¡ ìˆ˜ì •í•©ë‹ˆë‹¤.
    *   ë³€ê²½ ì „: `status: p.status`
    *   ë³€ê²½ í›„: `status: p.status || 'unpaid'`

## 4. ìœ„í—˜ (Risks)
*   **ë°ì´í„° ë¬´ê²°ì„±:** ì‹¤ì œ DBì— `status`ê°€ `null`ì¸ ë°ì´í„°ê°€ ìˆë‹¤ë©´, UIìƒì—ì„œëŠ” 'unpaid'ë¡œ í‘œì‹œë˜ì§€ë§Œ ì‹¤ì œ DB ê°’ì€ ì—¬ì „íˆ `null`ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì´ˆê¸° ë°ì´í„° ìƒì„± ì‹œ `status`ê°€ ëˆ„ë½ëœ ë ˆê±°ì‹œ ë°ì´í„°ê°€ ìˆì„ ê²½ìš° ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ UI ë™ì‘(ìƒíƒœ ë³€ê²½ ë“±)ì„ í†µí•´ ì˜¬ë°”ë¥¸ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë  ê²ƒì´ë¯€ë¡œ í° ìœ„í—˜ì€ ì•„ë‹™ë‹ˆë‹¤.
